<!doctype html>
<meta charset="utf-8">

<title>GeekBrains - ReactJS</title>

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

<main class="main container my-3">
    <header class="header my-3">
        <h1 class="h1">ReactJS</h1>
        <h2 class="h2">Домашнее задание 1</h2>
        <nav class="nav my-3" aria-label="breadcrumb">
            <ol class="breadcrumb mb-0">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">1.2 Area</li>
            </ol>
        </nav>
    </header>
    <div class="content my-3">

    </div>
    <footer class="footer my-3">

    </footer>
</main>

<script>

    const FORMULAS = {
        square: a => a * a,
        rectangle: (a, b = null) => b === null ? a * a : a * b,
        parallelogram: (a, h) => a * h,
        trapezoid: (a, b, h) => (a + b) * h / 2,
        triangle: (a, b, c = null) => {
            if(c === null){
                return a * b / 2;
            }else{
                let s = (a + b + c) / 2;
                return Math.sqrt(s * (s - a) * (s - b) * (s - c));
            }
        },
        circle: r => Math.PI * r * r,
        ellipse: (a, b = null) => b === null ? Math.PI * a * a : Math.PI * a * b,
        sector: (r, a) => a * Math.PI * r * r / 360
    };

    const calculateArea = (figure, ...input) => {
        if(!FORMULAS[figure])
            throw new Error(`There is no formula for "${figure}".`);

        let area = FORMULAS[figure](...input);

        if(isNaN(area))
            throw new Error(`Insufficient parameters for ${figure}: ${JSON.stringify(input)}.`);

        return {figure, area, input};
    };

    console.log(calculateArea('square', 2));
    console.log(calculateArea('rectangle', 2));
    console.log(calculateArea('rectangle', 2, 3));
    console.log(calculateArea('parallelogram', 2, 3));
    console.log(calculateArea('trapezoid', 2, 3, 4));
    console.log(calculateArea('triangle', 2, 3));
    console.log(calculateArea('triangle', 2, 3, 4));
    console.log(calculateArea('circle', 2));
    console.log(calculateArea('ellipse', 2));
    console.log(calculateArea('ellipse', 2, 3));
    console.log(calculateArea('sector', 2, 180));

</script>